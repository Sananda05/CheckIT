{% load embed_video_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CheckIt? | Materials</title>

    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <link href="{% static 'Static/assets/img/title-logo.png' %}" rel="icon">
    <link href="{% static 'Static/assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">
  
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  
    <!-- Vendor CSS Files -->
    <link href="{% static 'Static/assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'Static/assets/vendor/icofont/icofont.min.css' %}" rel="stylesheet">
    <link href="{% static 'Static/assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
    <link href="{% static 'Static/assets/vendor/venobox/venobox.css' %}" rel="stylesheet">
    <link href="{% static 'Static/assets/vendor/owl.carousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
    <link href="{% static 'Static/assets/vendor/aos/aos.css' %}" rel="stylesheet">
  
    <!-- Template Main CSS File -->
    <link href="{% static 'Static/assets/css/style.css' %}" rel="stylesheet">
    
    <!--material icon-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">
  

  


</head>
<body style="background-color:rgb(245, 245, 245);">
  <header id="header" class="fixed-top" style="background-color: rgb(250, 250, 250);">
      <div class="container d-flex">
  
        <div class="logo mr-auto" >
          <h1 class="text-light" ><a href="/"><span style="color: rgb(69, 10, 109); font-weight:bolder;">CheckIt?</span></a></h1>
          <!-- Uncomment below if you prefer to use an image logo -->
          <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
        </div>
  
        <nav class="nav-menu d-none d-lg-block" style="color: rgb(24, 24, 24);">
          <ul>
            <li class="active" ><a href="/" style="color: rgb(28, 29, 29);">Home</a></li>
            <li><a href="#services" style="color: rgb(28, 29, 29);">Features</a></li>
            <li><a href="/uploadMaterial" style="color: rgb(28, 29, 29);">Materials</a></li>
            <li><a href="#team" style="color: rgb(28, 29, 29);">Team</a></li>
            <li class="drop-down" style="color: rgb(28, 29, 29);"><a href="">Sign In</a>
              <ul>
                <li><a href="login">Log In</a></li>
                <li><a href="register">Register</a></li>
              </ul>
            </li>
  
          </ul>
        </nav><!-- .nav-menu -->
        
        <form class="d-flex" method="GET" action="{% url 'searchMaterials' %}">
          {% csrf_token %}
          <input class="form-control me-2" type="search" placeholder="Search Materials" aria-label="Search" name="query" id="query"><button class="btn btn-outline-secondary" type="submit">Search</button>
        </form>
  
      </div>
  </header>
      <div class="container-xxl" style="margin-top: 10rem;">
        {% if AllMaterials|length < 1 %}
       <h1>Search Results:</h1>
        Your search query : <b>{{query}}</b> did not match any documents. <br>
        Suggestions:
        <ul>
        <li>Make sure that all words are spelled correctly.</li>
        <li>Try more general keywords.</li>
       <li> Try fewer keywords.</li>
       <li> Try different keywords.</li>
        </li>
        </ul>
       
    {% endif %}
    
    {% for files in AllMaterials %}
    <div class="container-xxl" style="margin-top: 1rem;">
   
      <div class="shadow-sm p-3 mb-5 bg-body rounded">
      
        <h5 class="card-header" style="border-radius: 10px; border-color: rgb(128, 128, 128);color:#76649b;"> {{files.course_name}}</h5>
  
        <div class="card-body">
          <h6 style="font-weight: bold;">Topic : {{files.description}}</h6>
          <p style="font-weight: 500;">{{files.uni_name}}</p>
          <p style="color: rgb(11, 59, 161);">{{files.pdf}}</p>
          
          {% video files.video 'small' %} <br>
  
          <a href="{{files.pdf.url}}" target="_blank"  class="btn btn-primary">
            <i class="material-icons">
              file_open
            </i>
          </a>
          <a href="{{files.pdf.url}}" download="{{files.pdf.url}}" class="btn btn-success">
            
            <i class="material-icons">
              file_download
            </i>
            
          </a>
          <a href="/addComment/{{files.id}}/" class=" btn btn-primary">
            <i class="material-icons">
            add_comment
          </i></a>

        </br>
      </br>
   <!--comment-->
  <div>
    {% for comment in comments %}
    {% if comment.material_id_id == files.id %}
      <div class="row">
        <div class="col-md-11">
          <b>{{comment.username}}</b><span class="bedge bedge-secondary">{{comment.created_at}}</span>
        <div>{{comment.text}}</div>
        
         </div>
      </div>
      {% endif %}
    {% endfor %}
  </div>
         
        </div>
      </div>
    
  </div>
   
   {% endfor %}
   
    <!-- Pagination -->
    <nav class="my-3 container">
      <ul class="pagination justify-content-center">
          {% if AllMaterials.has_previous %}
        <li class="page-item"><a class="page-link" href="?query={{query}}&page={{AllMaterials.previous_page_number}}">Previous</a></li>
        {% endif %}
        {% for i in AllMaterials.paginator.page_range %}
        {% if AllMaterials.number == i %}
        <li class="page-item active"><a class="page-link" href="#">{{i}}</a></li>
        {% else %}
        <li class="page-item"><a class="page-link" href="?query={{query}}&page={{i}}">{{i}}</a></li>
        {% endif %}
        {% endfor %}
        {% if AllMaterials.has_next %}
        <li class="page-item"><a class="page-link" href="?query={{query}}&page={{AllMaterials.next_page_number}}">Next</a></li>
        {% endif %}
      </ul>
    </nav>

    
    </div>
  

</body>
</html>