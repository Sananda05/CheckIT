{% extends 'src\Views\Home\Homepage.html' %}
{% block HomeContent%}
{% load static %}


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  <link rel="stylesheet" type='text/css' href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.14/semantic.min.css">
    <!--Chart js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" integrity="sha256-Uv9BNBucvCPipKQ2NS9wYpJmi8DTOEfTA/nH2aoJALw=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <body>
      
    {%if alert%}
      <script>
        swal('{{alert}}',
        {
          icon:"error",

        });
      </script>
    {%endif%}  
      
    <div class="page-wrapper mdc-toolbar-fixed-adjust" style="background-color: white">
      <main class="content-wrapper" style=" padding-top: 80px; padding-bottom: 0px;">
        <div class="mdc-layout-grid">
          <div class="mdc-layout-grid__inner">
            <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-7-desktop">
              <div class="mdc-card" style="box-shadow: rgb(4, 163, 102);">
                    <h2 style = "padding-bottom: 10px; color:rgba(35, 207, 87, 0.712); text-align:center">Find<b> Similarities!</b></h2>
                  <div class="card-body" style="align-content: center; height: 300px; width: 100rem;">
                    
                    <div class="mdc-layout-grid__inner">
                      
                        {% if files%} {% for file in files%}
                        <div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-3-tablet">
                         <div class="mdc-card info-card info-card--success">
                           <div class="card-inner">
                             <a><h5 class="card-title">{{ file.pdf }}</h5></a>
                             <h5 class="font-weight-light pb-2 mb-1 border-bottom"> 
                             </h5>
                             <p class="tx-12 text-muted"></p>
                             <a style="margin-left:10px;color:brown" href="files/del/{{file.id}}"><i class="material-icons">delete</i></a>
                               
                             <div class="card-icon-wrapper">
                               <i class="material-icons">dvr</i>
                             </div>
                           </div>
                         </div>
                       </div>
                       {% endfor %}
                       {%else%}
                       <div class="text-center" style="margin-left:200px; margin-top:80px; height: 200px; width: 400px;">
                        <i class=" material-icons" style="color: rgb(14, 138, 90);">cloud_upload</i>
                        <h3 style="color: rgb(89, 15, 112);text-align:center">Upload any two file</h3>
                        </div> 
                        {%endif%}                     
                      </div>
                  </div>
                </div><br><br>

                <form action="" method="POST">
                  {% csrf_token %}

                  <div class="mdc-form-field">
                    <div class="mdc-checkbox mdc-checkbox--success">
                      <input type="checkbox"
                              id="basic-disabled-checkbox"
                              class="mdc-checkbox__native-control"
                              name="checkbox_val"
                              value="Typed"
                             />
                      <div class="mdc-checkbox__background">
                        <svg class="mdc-checkbox__checkmark"
                              viewBox="0 0 24 24">
                          <path class="mdc-checkbox__checkmark-path"
                                fill="none"
                                d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                        </svg>
                        <div class="mdc-checkbox__mixedmark"></div>
                      </div>
                    </div>
                    <label for="basic-disabled-checkbox" id="basic-disabled-checkbox-label">Typed File</label>
                  </div>
                  <div class="mdc-form-field">
                    <div class="mdc-checkbox mdc-checkbox--success">
                      <input type="checkbox"
                              id="basic-disabled-checkbox"
                              class="mdc-checkbox__native-control"
                              name="checkbox_val"
                              value="Handwritten"
                               />
                      <div class="mdc-checkbox__background">
                        <svg class="mdc-checkbox__checkmark"
                              viewBox="0 0 24 24">
                          <path class="mdc-checkbox__checkmark-path"
                                fill="none"
                                d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                        </svg>
                        <div class="mdc-checkbox__mixedmark"></div>
                      </div>
                    </div>
                    <label for="basic-disabled-checkbox" id="basic-disabled-checkbox-label">Handwritten File</label>
                  </div>
                  <br>
                  {% if files%}
                    {%if state == "disable"%}
                    <a href="reset/files/" style="visibility:visible">
                      <button  type="button" id="btn-convert" style="width: 150px; margin-left:343px; background-color:rgb(176, 192, 186)" class="btn btn-success">Reset</button></a>
                    {%else%}
                      <a href="files/result" style="visibility:visible">
                    <button type="button"  id="btn-convert" style="width: 150px; margin-left:343px; background-color:rgb(4, 163, 102)" class="btn btn-success">Compare</button></a>
                  {%endif%}
                {%else%}
                <a  aria-disabled="true" style="visibility:visible">
                  <button type="button" disabled aria-disabled="true"  id="btn-convert" style="width: 150px; margin-left:345px; background-color:rgb(4, 163, 102)" class="btn btn-success">Compare</button></a>
                {%endif%}
                        

                </form>
                
                  
                </div>
            
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-5-desktop">
                <h3 style="color: rgb(7, 70, 187);">Similarities </h3>
               
                <h1 style="font-weight: bolder; color:crimson">{{rate}}%</h1>
                
                <div class="mdc-card" style="height: 500px; width:500px;" >
                  
                  <canvas id="myChart" width="200px" height="200px"></canvas>
                </div>
              </div>

            
          
          <form action="" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            
                <button data-bs-toggle="modal" style="border-radius:60%;width: 70px;
                height: 70px; position: absolute;
                right:30px;
                bottom: 100px;
                background-color:rgb(15, 180, 64);border-color:rgb(218, 218, 218); box-shadow:6px black" class="btn pmd-btn-fab pmd-ripple-effect btn-light pmd-btn-raised" data-bs-target="#newFolder"type="button"><i style="font-weight: bolder;color:aliceblue;" class="material-icons">add</i></button><br>

                <div class="modal" tabindex="-1" id="newFolder" style="height: 600px;">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Upload File</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <h4 class="modal-title" style="color: rgb(4, 120, 165);">*supported file types : pdf, txt</h4><br>
                            <div class="input-group">
                            <input type="file" multiple name ="pdf_file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                            </div>
                        </div>   
                        <br>
                        <div class="modal-footer">
                            <input type="submit" value="upload" class="btn btn-success">
                        </div>
                    </div>
                </div>
                </div>
            </form> 
          </div>
        </div>
      </main>
    </div>
  </body>
<script>
  $(document).ready(function(){
  var ctx = document.getElementById('myChart').getContext('2d');
 
  var myChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
          labels: [],
          datasets: [{
         
              data:['{{rate}}',100],
              backgroundColor: [
                  'rgba(153, 102, 255, 0.2)',
                  'rgb(255, 255, 255)', 
              ],
              borderColor: [
                  
                  'rgba(255, 206, 86, 1)',
                  'rgb(218, 218, 218)',
                  
              ],
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              y: {
                  beginAtZero: true
              }
          }
      }
  });
})
</script>
 
  <script type="text/javascript">
     var $bttn = $("#btn-convert");

  </script>

  {% endblock %}

